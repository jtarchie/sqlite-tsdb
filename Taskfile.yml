version: '3'

tasks:
  build: go build --tags "json1 fts5" ./...
  format:
    cmds:
    - deno fmt README.md
    - gofmt -w .
  lint: golangci-lint run --fix
  test: go test -cover --tags "json1 fts5" -race ./...
  default:
    deps:
    - task: format
    - task: lint
    - task: build
    - task: test
  